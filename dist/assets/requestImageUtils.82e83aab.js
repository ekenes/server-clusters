var y=Object.defineProperty;var c=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var u=(t,e,i)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,s=(t,e)=>{for(var i in e||(e={}))O.call(e,i)&&u(t,i,e[i]);if(c)for(var i of c(e))w.call(e,i)&&u(t,i,e[i]);return t};import{C as $}from"./vendor.1906794a.js";function d(t,e,i=32774,n=[0,0,0,0]){return{srcRgb:t,srcAlpha:t,dstRgb:e,dstAlpha:e,opRgb:i,opAlpha:i,color:{r:n[0],g:n[1],b:n[2],a:n[3]}}}function m(t,e,i,n,l=32774,T=32774,a=[0,0,0,0]){return{srcRgb:t,srcAlpha:e,dstRgb:i,dstAlpha:n,opRgb:l,opAlpha:T,color:{r:a[0],g:a[1],b:a[2],a:a[3]}}}const C={face:1029,mode:2305},A={face:1028,mode:2305},tt=t=>t===2?C:t===1?A:null,et={zNear:0,zFar:1},it={r:!0,g:!0,b:!0,a:!0};function R(t){return j.intern(t)}function D(t){return N.intern(t)}function P(t){return x.intern(t)}function k(t){return M.intern(t)}function z(t){return q.intern(t)}function B(t){return E.intern(t)}function F(t){return G.intern(t)}function K(t){return H.intern(t)}function nt(t){return J.intern(t)}class r{constructor(e,i){this.makeKey=e,this.makeRef=i,this.interns=new Map}intern(e){if(!e)return null;const i=this.makeKey(e),n=this.interns;return n.has(i)||n.set(i,this.makeRef(e)),n.get(i)}}function o(t){return"["+t.join(",")+"]"}const j=new r(p,t=>s({__tag:"Blending"},t));function p(t){return t?o([t.srcRgb,t.srcAlpha,t.dstRgb,t.dstAlpha,t.opRgb,t.opAlpha,t.color.r,t.color.g,t.color.b,t.color.a]):null}const N=new r(_,t=>s({__tag:"Culling"},t));function _(t){return t?o([t.face,t.mode]):null}const x=new r(f,t=>s({__tag:"PolygonOffset"},t));function f(t){return t?o([t.factor,t.units]):null}const M=new r(g,t=>s({__tag:"DepthTest"},t));function g(t){return t?o([t.func]):null}const q=new r(v,t=>s({__tag:"StencilTest"},t));function v(t){return t?o([t.function.func,t.function.ref,t.function.mask,t.operation.fail,t.operation.zFail,t.operation.zPass]):null}const E=new r(I,t=>s({__tag:"DepthWrite"},t));function I(t){return t?o([t.zNear,t.zFar]):null}const G=new r(W,t=>s({__tag:"ColorWrite"},t));function W(t){return t?o([t.r,t.g,t.b,t.a]):null}const H=new r(S,t=>s({__tag:"StencilWrite"},t));function S(t){return t?o([t.mask]):null}const J=new r(L,t=>({blending:R(t.blending),culling:D(t.culling),polygonOffset:P(t.polygonOffset),depthTest:k(t.depthTest),stencilTest:z(t.stencilTest),depthWrite:B(t.depthWrite),colorWrite:F(t.colorWrite),stencilWrite:K(t.stencilWrite)}));function L(t){return t?o([p(t.blending),_(t.culling),f(t.polygonOffset),g(t.depthTest),v(t.stencilTest),I(t.depthWrite),W(t.colorWrite),S(t.stencilWrite)]):null}class st{constructor(e){this._pipelineInvalid=!0,this._blendingInvalid=!0,this._cullingInvalid=!0,this._polygonOffsetInvalid=!0,this._depthTestInvalid=!0,this._stencilTestInvalid=!0,this._depthWriteInvalid=!0,this._colorWriteInvalid=!0,this._stencilWriteInvalid=!0,this._stateSetters=e}setPipeline(e){(this._pipelineInvalid||e!==this._pipeline)&&(this.setBlending(e.blending),this.setCulling(e.culling),this.setPolygonOffset(e.polygonOffset),this.setDepthTest(e.depthTest),this.setStencilTest(e.stencilTest),this.setDepthWrite(e.depthWrite),this.setColorWrite(e.colorWrite),this.setStencilWrite(e.stencilWrite),this._pipeline=e),this._pipelineInvalid=!1}invalidateBlending(){this._blendingInvalid=!0,this._pipelineInvalid=!0}invalidateCulling(){this._cullingInvalid=!0,this._pipelineInvalid=!0}invalidatePolygonOffset(){this._polygonOffsetInvalid=!0,this._pipelineInvalid=!0}invalidateDepthTest(){this._depthTestInvalid=!0,this._pipelineInvalid=!0}invalidateStencilTest(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}invalidateDepthWrite(){this._depthWriteInvalid=!0,this._pipelineInvalid=!0}invalidateColorWrite(){this._colorWriteInvalid=!0,this._pipelineInvalid=!0}invalidateStencilWrite(){this._stencilTestInvalid=!0,this._pipelineInvalid=!0}setBlending(e){this._blending=this.setSubState(e,this._blending,this._blendingInvalid,this._stateSetters.setBlending),this._blendingInvalid=!1}setCulling(e){this._culling=this.setSubState(e,this._culling,this._cullingInvalid,this._stateSetters.setCulling),this._cullingInvalid=!1}setPolygonOffset(e){this._polygonOffset=this.setSubState(e,this._polygonOffset,this._polygonOffsetInvalid,this._stateSetters.setPolygonOffset),this._polygonOffsetInvalid=!1}setDepthTest(e){this._depthTest=this.setSubState(e,this._depthTest,this._depthTestInvalid,this._stateSetters.setDepthTest),this._depthTestInvalid=!1}setStencilTest(e){this._stencilTest=this.setSubState(e,this._stencilTest,this._stencilTestInvalid,this._stateSetters.setStencilTest),this._stencilTestInvalid=!1}setDepthWrite(e){this._depthWrite=this.setSubState(e,this._depthWrite,this._depthWriteInvalid,this._stateSetters.setDepthWrite),this._depthWriteInvalid=!1}setColorWrite(e){this._colorWrite=this.setSubState(e,this._colorWrite,this._colorWriteInvalid,this._stateSetters.setColorWrite),this._colorWriteInvalid=!1}setStencilWrite(e){this._stencilWrite=this.setSubState(e,this._stencilWrite,this._stencilWriteInvalid,this._stateSetters.setStencilWrite),this._stencilTestInvalid=!1}setSubState(e,i,n,l){return(n||e!==i)&&(l(e),this._pipelineInvalid=!0),e}}function Q(t,e,i){for(let n=0;n<i;++n)e[2*n]=t[n],e[2*n+1]=t[n]-e[2*n]}function lt(t,e,i,n){for(let l=0;l<n;++l)b[0]=t[l],Q(b,h,1),e[l]=h[0],i[l]=h[1]}const b=new Float64Array(1),h=new Float32Array(2),rt=m(770,1,771,771),U=d(1,1),V=d(0,771);function ot(t){return t===2?null:t===1?V:U}const at=5e5,X={factor:-1,units:-2};function ht(t){return t?X:null}function ct(t){return t===3||t===2?513:515}async function ut(t,e){const{data:i}=await $(t,s({responseType:"image"},e));return i}export{st as K,V as a,ct as b,ot as c,it as d,ht as e,at as f,nt as g,et as l,Q as o,lt as r,tt as s,ut as t,rt as u};
