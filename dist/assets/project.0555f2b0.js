var h=Object.defineProperty,y=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var m=(r,t,e)=>t in r?h(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,f=(r,t)=>{for(var e in t||(t={}))N.call(t,e)&&m(r,e,t[e]);if(u)for(var e of u(t))O.call(t,e)&&m(r,e,t[e]);return r},l=(r,t)=>y(r,J(t));import{aw as p,cW as R,X as a,Y as i,Z as w,ce as j,cV as v,cw as F,cC as $,C as k}from"./vendor.1906794a.js";function q(r){return{geometryType:p(r[0]),geometries:r.map(t=>t.toJSON())}}function x(r,t,e){const s=R(t);return r.map(c=>{const n=s.fromJSON(c);return n.spatialReference=e,n})}let o=class extends j{constructor(r){super(r),this.geometries=null,this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const r=this.geometries.map(function(s){return s.toJSON()}),t=this.geometries[0],e={};return e.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON()),e.inSR=t.spatialReference.wkid||JSON.stringify(t.spatialReference.toJSON()),e.geometries=JSON.stringify({geometryType:p(t),geometries:r}),this.transformation&&(e.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(e.transformForward=this.transformForward),e}};a([i()],o.prototype,"geometries",void 0),a([i({json:{read:{source:"outSR"}}})],o.prototype,"outSpatialReference",void 0),a([i()],o.prototype,"transformation",void 0),a([i()],o.prototype,"transformForward",void 0),o=a([w("esri.rest.support.ProjectParameters")],o);const C=o,P=v(C);async function V(r,t,e){t=P(t);const s=F(r),c=f(l(f({},s.query),{f:"json"}),t.toJSON()),n=t.outSpatialReference,S=p(t.geometries[0]),d=$(c,e);return k(s.path+"/project",d).then(({data:{geometries:g}})=>x(g,S,n))}export{C as a,V as n,x as o,q as r};
